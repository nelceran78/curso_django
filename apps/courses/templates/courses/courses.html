{% extends 'base.html' %}
{% load static %}


{% block title %}Todos los cursos{% endblock title %}

{% block custom_style %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock custom_style %}


{% block content %}

    <div class="layout">

        {% include 'includes/sidebar.html' %}

            <!-- Main content -->
            <div class="main-content">
                <!-- Header -->
                {% include 'includes/header.html' %}
                <!-- Aquí va el contenido de la página -->
                <main>
                    <!-- === COURSE CARDS === -->

                    <div class="carousel-wrapper">
                        <div class="course-grid">
                            
                            {% for course in data_courses  %}
                                <div class="course-card">
                                    <a href="{% url 'course_detail' slug=course.slug %}">
                                        <img src="{{ course.image }}" alt="Course Image" class="course-img" />
                                        <div class="course-info">
                                            <div class="course-rating">
                                                <span class="tag beginner">{{ course.level }}</span>
                                                <div class="course-meta">
                                                    <span><i class="fa-solid fa-star"></i> {{ course.rating }}</span>
                                                </div>
                                            </div>

                                            <h3 class="course-title">{{ course.title }}</h3>
                                            <div class="author">
                                                <img src="{{course.owner.instructor_profile.photo}}" alt="FotoInst">
                                                <span>{{ course.owner.get_full_name }}</span></div>
                                        </div>

                                    </a>
                                </div>
                            {% endfor %}

                        </div>

                        <div class="paginator">
                            
                            {% if data_courses.has_previous %}
                                <button>
                                    <a href="?page=1&{{data_query_string}}"> <span> |< </span> </a>    
                                </button>
                                <button>
                                    <a href="?page={{data_courses.previous_page_number}}&{{data_query_string}}"> <span> < </span> </a>    
                                </button>
                            {% endif %}

                            <span>Página {{data_courses.number}} de {{data_courses.paginator.num_pages}} </span>

                            {% if data_courses.has_next %}
                                <button>
                                    <a href="?page={{data_courses.next_page_number}}&{{data_query_string}}"> <span> > </span> </a>
                                </button>
                                <button>
                                    <a href="?page={{data_courses.paginator.num_pages}}&{{data_query_string}}"> >| <span> </span></a>
                                </button>
                            {% endif %}
                                
                        </div>
                    </div>

                </main>
            </div>
    </div>
    

{% endblock content %}

    
{% block scripts %}
    <script src="{% static 'js/script.js' %}"></script>
{% endblock scripts %}
        
    

